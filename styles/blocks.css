@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  .cover,
  .figure,
  .video-wrapper {
    @apply mb-5 grid w-full items-center justify-center overflow-hidden rounded-lg;
  }

  .cover .image,
  .figure .image,
  .video-wrapper .video {
    @apply h-auto rounded-lg;
  }

  .blog-single-title {
    @apply mb-6 text-2xl font-bold sm:text-4xl lg:text-5xl;
  }

  .blog-single .cover {
    @apply mb-12;
  }

  .blocks h2,
  .blocks h3,
  .blocks h4,
  .blocks p,
  .blocks ul,
  .blocks ol,
  .blocks li,
  .blocks .callout,
  .blocks .code-highlighting {
    @apply container max-w-4xl px-6 md:px-12;
  }

  .blocks p,
  .blocks li,
  .blocks .code-highlighting {
    @apply mb-5;
  }

  .blocks .figure,
  .blocks .video-wrapper {
    @apply mb-5 w-full overflow-hidden rounded-lg text-center;
  }

  .blocks .cover {
    @apply mb-12 max-h-[460px] overflow-hidden object-cover;
  }

  .blocks .embed {
    @apply mb-5 overflow-hidden rounded-lg;
  }
  .blocks .embed,
  .blocks .iframe {
    @apply w-full md:min-h-[600px];
  }

  .blocks .caption {
    @apply py-2 text-center text-sm;
    @apply text-gray-500 dark:text-gray-400;
  }

  .blocks .space {
    @apply block w-full py-6;
  }
  .blocks blockquote {
    @apply my-8 text-center;
  }
  .blocks blockquote svg {
    @apply mx-auto mb-4 h-8 w-8 text-gray-400 dark:text-gray-600;
  }
  .blocks blockquote span {
    @apply text-lg font-semibold italic text-gray-900 dark:text-white md:text-xl;
  }

  .external-link {
    @apply inline-flex items-center gap-1 text-primary;
    @apply hover:underline hover:underline-offset-4 hover:opacity-80;
  }

  .blocks .callout {
    @apply mb-5 w-full rounded-md border-l-8 border-gray-500/50 bg-gray-200 px-6 py-4 dark:bg-gray-900/50;
    @apply [&>img+div]:translate-y-[-3px] [&>img]:absolute [&>img]:left-4 [&>img]:top-4 [&>img~*]:pl-7;
    @apply [&>span+div]:translate-y-[-3px] [&>span]:absolute [&>span]:left-4 [&>span]:top-4 [&>span~*]:pl-7;
  }

  .blocks .callout span {
    @apply m-0 text-lg text-foreground;
  }

  .code-highlighting {
    @apply bg-gray-800 !p-0 text-gray-300 dark:bg-gray-900/50;
    @apply mb-6 w-full overflow-hidden rounded-lg;
    @apply border border-gray-500/50;
  }

  .code-highlighting pre,
  .code-highlighting .shiki {
    @apply overflow-auto p-4;
    @apply border-t border-gray-500/50;
    @apply shadow-sm;
  }

  .code-highlighting .line {
    @apply before:inline-block before:content-[attr(data-line-number)];
    @apply before:mr-4 before:min-w-8 before:text-right before:text-gray-200/50;
  }

  .code-highlighting .shiki {
    @apply !bg-transparent !text-foreground dark:!text-muted-foreground;
  }

  .code-highlighting .caption {
    @apply block px-4 text-left;
    @apply border-t border-gray-500/50;
  }

  .code-highlighting .language {
    @apply block w-full px-4 py-2 text-sm font-bold;
    @apply flex items-center justify-between gap-2;
  }

  .blocks .divider {
    @apply mx-auto my-16 h-[2px] max-w-[60px];
  }

  .blocks .columns {
    @apply grid grid-cols-2 items-start gap-8;
  }

  .blocks .column {
    @apply flex flex-col space-y-4;
  }

  .blocks .columns h2,
  .blocks .columns h3,
  .blocks .columns h4,
  .blocks .columns p,
  .blocks .columns ul,
  .blocks .columns ol,
  .blocks .columns li,
  .blocks .columns .callout {
    @apply p-0;
  }
}
